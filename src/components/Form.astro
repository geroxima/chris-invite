<form id="my-form" class="text-2xl sm:text-4xl w-full sm:w-[80%] sm:items-center mx-auto font-jost flex flex-col mt-[3%]" method="POST" action="https://script.google.com/macros/s/AKfycbwVapQQjiWQ0GtcMuc92UhF5LV0j_rKGeqFMrN0IFrpjGwEVWZv5s0HHXc_7baL_Ho5/exec">
    <input name="Name" class="w-full rounded p-3 text-black bg-gray-100 mb-2" type="text" required placeholder="Escribe tu nombre">
    <input type="submit" value="Â¡Confirmar presencia!" class="w-full cursor-pointer hover:animate-pulse hover:animate-infinite hover:animate-ease-out hover:animate-duration-[900ms] bg-orange-300 p-3 rounded-xl focus:outline-none focus:ring-4 focus:ring-orange-600 active:bg-orange-400">
</form>


<script>
  document.addEventListener("DOMContentLoaded", function() {
  const form = document.getElementById('my-form');

  if (form) {
    form.addEventListener("submit", function(e) {
      e.preventDefault();

      // Explicitly type e.target as HTMLFormElement
      const formElement = e.target as HTMLFormElement;

      // Now you can access the action property without TypeScript error
      const action = formElement.action;

      const data = new FormData(formElement);

      fetch(action, {
        method: 'POST',
        body: data,
      })
      .then(response => {
        if (response.ok) {
          alert("Gracias por confirmar!");
        } else {
          throw new Error('Failed to submit form.');
        }
      })
      .catch(error => {
        console.error(error);
        alert("An error occurred while submitting the form.");
      });
    });
  }
});


</script>